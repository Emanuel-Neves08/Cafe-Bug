<div class="container">
  <section class="cabecalho-contato">
    <div class="cabecalho-contato-texto">
      <h2>Entre em Contato</h2>
      <p>Alguma dúvida, crítica ou sugestão? <br>Entre em contato!</p>
    </div>
    <figure>
      <img src="assets/imagens/contato.png" alt="">
    </figure>
  </section>

  <form [formGroup]="contatoForm" (ngSubmit)="onSubmit()" class="formulario" novalidate>
    <fieldset>
      <div class="campo-form">
        <label for="nome">Nome</label>
        <input
          aria-describedby="nome-erro"
          [attr.aria-invalid]="contatoForm.get('nome')?.invalid"
          type="text"
          id="nome"
          placeholder="Digite seu nome completo"
          formControlName="nome"
          required>
        <span *ngIf="contatoForm.get('nome')?.touched && contatoForm.get('nome')?.invalid" class="erro-mensagem">
          Nome obrigatório
        </span>
      </div>

      <div class="campo-form">
        <label for="email">E-mail</label>
        <input
          aria-label="Endereço de e-mail"
          aria-describedby="email-erro-email email-erro-required"
          [attr.aria-invalid]="contatoForm.get('email')?.invalid"
          type="email"
          id="email"
          placeholder="Digite seu email"
          formControlName="email"
          required>
        <span *ngIf="contatoForm.get('email')?.touched && contatoForm.get('email')?.errors?.['email']" class="erro-mensagem">
          Formato de e-mail inválido
        </span>
        <span *ngIf="contatoForm.get('email')?.touched && contatoForm.get('email')?.errors?.['required']" class="erro-mensagem">
          E-mail obrigatório
        </span>
      </div>

      <div class="campo-form">
        <label for="telefone">Telefone</label>
        <input
          type="tel"
          id="telefone"
          placeholder="(XX) XXXX-XXXX"
          formControlName="telefone">
      </div>
    </fieldset>

    <fieldset>
      <div class="campo-form">
        <label for="motivoContato">Qual o motivo do contato?</label>
        <select
          id="motivoContato"
          formControlName="motivoContato"
          required>
          <option value="" disabled>Selecione a melhor opção</option>
          <option value="suporte">Suporte</option>
          <option value="sugestoes">Sugestões</option>
          <option value="feedback">Feedback</option>
        </select>
        <span *ngIf="contatoForm.get('motivoContato')?.touched && contatoForm.get('motivoContato')?.invalid" class="erro-mensagem">
          Selecione um motivo
        </span>
      </div>
    </fieldset>

    <fieldset>
      <label for="melhorFormaContato">Qual a melhor forma de retorno do seu contato?</label>
      <div role="radiogroup" class="campo-form">
        <ul class="radio-button">
          <li>
            <label for="email-contato">
              <input
                type="radio"
                id="email-contato"
                formControlName="melhorFormaContato"
                value="email">E-mail
            </label>
          </li>
          <li>
            <label for="telefone-contato">
              <input
                type="radio"
                id="telefone-contato"
                formControlName="melhorFormaContato"
                value="telefone">Ligação
            </label>
          </li>
          <li>
            <label for="whatsapp-contato">
              <input
                type="radio"
                id="whatsapp-contato"
                formControlName="melhorFormaContato"
                value="whatsapp">Whatsapp
            </label>
          </li>
        </ul>
      </div>
    </fieldset>

    <fieldset>
      <div class="campo-form">
        <label for="mensagem">Mensagem</label>
        <textarea
          id="mensagem"
          aria-describedby="mensagem-erro"
          [attr.aria-invalid]="contatoForm.get('mensagem')?.invalid"
          placeholder="Digite sua mensagem"
          formControlName="mensagem"
          required></textarea>
        <span *ngIf="contatoForm.get('mensagem')?.touched && contatoForm.get('mensagem')?.invalid" class="erro-mensagem">
          Mensagem obrigatória
        </span>
      </div>
    </fieldset>

    <!-- Termos LGPD -->
    <fieldset>
      <label class="checkbox-label">
        <input type="checkbox" formControlName="aceitaTermos" required />
        Eu concordo com os <a href="/politica-de-privacidade" target="_blank">termos de uso e política de privacidade</a>.
      </label>
      <span *ngIf="contatoForm.get('aceitaTermos')?.touched && contatoForm.get('aceitaTermos')?.invalid" class="erro-mensagem">
        Você deve aceitar os termos para continuar
      </span>
    </fieldset>

    <fieldset>
      <label class="checkbox-label">
        <input type="checkbox" formControlName="aceitaUsoDados" required />
        Eu concordo com o uso dos meus dados conforme a LGPD.
      </label>
      <span *ngIf="contatoForm.get('aceitaUsoDados')?.touched && contatoForm.get('aceitaUsoDados')?.invalid" class="erro-mensagem">
        Você deve aceitar a política de uso dos dados para continuar
      </span>
    </fieldset>

    <div class="contato-botoes">
      <button type="button" class="botao-cancelar" (click)="cancelar()">Cancelar</button>
      <button
        type="submit"
        [disabled]="contatoForm.invalid"
        class="botao-enviar">Enviar
      </button>
    </div>
  </form>
</div>
